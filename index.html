<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffce54" />
  <link rel="manifest" href="pwa/manifest.json" />
  <link rel="stylesheet" href="styles.css" />
  <title>Kitai's Words</title>
</head>
<body>
  <header>
    <div class="logo">Kitai Words</div>
    <div class="header-actions">
      <button id="home-button" aria-label="Go to home">üè†</button>
      <button id="parent-button" aria-label="Parent settings">‚öôÔ∏è</button>
    </div>
  </header>

  <main>
    <section id="home-screen">
      <h1>Choose a track</h1>
      <div class="tile-grid">
        <button class="tile" data-track="vocab">
          <div class="tile-emoji">üß∏</div>
          <div class="tile-title">Vocabulary</div>
          <div class="tile-sub">Listen & match pictures</div>
        </button>
        <button class="tile" data-track="hiragana">
          <div class="tile-emoji">„ÅÇ</div>
          <div class="tile-title">Hiragana</div>
          <div class="tile-sub">Sound & pick, complete</div>
        </button>
        <button class="tile" data-track="katakana">
          <div class="tile-emoji">„Ç´</div>
          <div class="tile-title">Katakana</div>
          <div class="tile-sub">Sound & pick, complete</div>
        </button>
        <button class="tile disabled" data-track="kanji" aria-disabled="true">
          <div class="tile-emoji">Êº¢</div>
          <div class="tile-title">Kanji</div>
          <div class="tile-sub">Coming soon</div>
        </button>
      </div>
    </section>

    <section id="game-screen" class="hidden">
      <div id="status">
        <span id="track-label">Vocabulary</span>
        <span id="mode-label">Listen & Tap</span>
        <span id="category-label">Mixed</span>
        <span id="voice-warning" class="hidden">No Japanese voice found. Playing without speech.</span>
      </div>

      <div id="mode-switcher">
        <button data-gametype="tap" class="mode-btn active">Listen & Tap</button>
        <button data-gametype="drag-complete" class="mode-btn">Drag to Complete</button>
      </div>

      <section id="prompt-area">
        <div id="prompt-word">???</div>
        <button id="speak-btn" aria-label="Replay word">üîä</button>
        <div id="feedback" aria-live="polite"></div>
      </section>

      <section id="cards" class="cards"></section>

      <section id="dropzone-section" class="hidden">
        <div id="dropzone" class="dropzone">Drop here</div>
      </section>

      <section id="complete-word-section" class="hidden">
        <div id="complete-word-display"></div>
        <div id="complete-choices" class="choices-row"></div>
      </section>
    </section>
  </main>

  <div id="settings-overlay" class="hidden">
    <div id="settings" role="dialog" aria-modal="true">
      <h2>Parent Settings</h2>
      <label>Choices:
        <select id="choice-count">
          <option value="2">2</option>
          <option value="3" selected>3</option>
          <option value="4">4</option>
        </select>
      </label>
      <label>Category:
        <select id="category-select"></select>
      </label>
      <label>Voice:
        <select id="voice-select"></select>
      </label>
      <label>
        <input type="checkbox" id="romaji-toggle" />
        Show romaji (off by default)
      </label>
      <label>
        <input type="checkbox" id="vibration-toggle" checked />
        Vibrate on wrong (if supported)
      </label>
      <label>
        <input type="checkbox" id="sound-toggle" checked />
        Enable sounds (chime/buzz)
      </label>
      <label>Theme:
        <select id="theme-select">
          <option value="default">Default</option>
          <option value="halloween">Halloween (preview)</option>
        </select>
      </label>
      <div class="theme-hint">Theme switcher is future-proofed; Halloween is a placeholder.</div>
      <div class="settings-subheader">Custom images</div>
      <input type="search" id="image-search" placeholder="Search words" aria-label="Search vocabulary" />
      <div id="image-list" class="image-list"></div>
      <button id="close-settings">Done</button>
    </div>
  </div>

  <div id="wrong-overlay" class="hidden">‚úï</div>

  <script src="app.js"></script>
</body>
</html>
